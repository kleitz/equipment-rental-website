<div class="itemview">
    <div class="content">
        <div class="row" ng-show="product.owner.username == auth.username">
            <button class="button button-red" ng-click="deleteItem()">Delete</button>
            <a class="button button-green" href="#/listing/{{product.id}}/edit">edit</a>
        </div>
        <div class="row title">
            <h1>{{product.title}}</h1>
        </div>
        <div class="row">
            <div class="eight columns">
                <div class="row">
                    <div class="gallery">

                        <image-gallery images="{{product.images}}"></image-gallery>
                    </div>
                </div>
            </div>
            <div class="four columns">
                <div class="row description">
                    <h3>Description</h3>
                    {{product.description}}
                </div>
                <div class="row condition">
                    <h3>Condition</h3>
                    {{product.condition}}
                </div>
                <div class="row">
                    <div class="rent">
                        <div class="text">
                            Available for {{product.product_rental_period_limit}} days.
                        </div>
                        <rent-button class="select" datasource="product"></rent-button>
                    </div>
                </div>
            </div>
        </div>


        <div class="row content">
            <div class="eight columns">
                <h3>Content</h3>
                <span class="content" ng-bind-html="product.content"></span>
            </div>
            <div class="four columns">
                <div class="row">

                    <qrcode class="code row" type="product" source={{product}}></qrcode>
                    <i class="info row"><b>Mobile app: </b>Scan me</i>


                </div>
                <div class="row">
                    <div class=" owner">
                        <h4>Owner</h4>
                        <img ng-cloak
                             ng-src="https://secure.gravatar.com/avatar/{{product.owner.gravatar}}?s=90&d=identicon"
                             width="50px" height="auto"/>
                        <a href="#/user/{{product.owner.username}}">@{{product.owner.username}}</a>
                        <div class="row">
                            Last updated: {{product.date_updated | amCalendar}}
                        </div>
                        <div class="row">
                            Date Added: {{product.date_added | amCalendar}}
                        </div>


                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <h4>Tags</h4>
            <div class="tags">
                <div class="tag" ng-repeat="tag in product.tags">{{tag.tag}}</div>
            </div>
        </div>


        <div class="row comment-creator">
            <h4>Add comment</h4>
            <form ng-submit="addComment(comment)">
                <div class="nine columns">

                    <input class="input" type="text" ng-model="comment.message">
                </div>
                <div class="three columns">

                    <input type="submit" value="Comment" ng-hide="comment.processing">
                    <input type="button" value="Processing...." ng-show="comment.processing">
                </div>
            </form>


        </div>
        <div class="row">
            <h4>Comments</h4>
            <div class="comments">
                <div class="comment row animated fadeIn"
                     ng-repeat="comment in product.comments | orderBy:'-date_added'">
                    <div class="two columns icon">
                        <img ng-cloak
                             ng-src="https://secure.gravatar.com/avatar/{{comment.author.gravatar}}?s=90&d=identicon"
                             width="50px" height="auto"/>

                    </div>
                    <div class="two columns username">
                        <a href="#/user/{{comment.author.username}}">@{{comment.author.username}}</a>
                    </div>
                    <div class="six columns message">
                        {{comment.message}}
                    </div>
                    <div class="two columns other">
                        <!--<span am-time-ago="comment.date_added"></span>-->
                        <span class="deletebutton" ng-click="deleteComment(comment.id, $index)"
                              ng-if="comment.author.username == auth.username"><i class="fa fa-times"></i> Delete</span>

                        <span class="approvebutton" ng-click="approveComment(comment.id, $index)"
                              ng-if="!comment.authorized"><i class="fa fa-times"></i> Approve</span>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

