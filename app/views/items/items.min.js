"use strict";angular.module("app.items",["ngRoute"]).config(["$routeProvider",function(a){a.when("/listing",{templateUrl:"views/items/items.html",controller:"itemsCtrl"})}]).controller("itemsCtrl",["$rootScope","$scope","$http",function(a,b,e,d){if(window.localStorage.getItem("product_count")){b.count=parseInt(window.localStorage.getItem("product_count"))}else{window.localStorage.setItem("product_count",2);b.count=2}b.start=0;if(a.loggedIn){}else{b.view=false}b.$watch("count",function(f){window.localStorage.setItem("product_count",f);c()});b.back=function(){if(b.start<=0){b.viewResults=false}else{b.viewResults=true;b.start=b.start-b.count;c()}};b.forward=function(){if(b.start>=b.products.total-b.count){b.viewResults=false}else{b.viewResults=true;b.start=b.start+b.count;c()}};function c(){e({url:backend+"/p",method:"GET",headers:{Start:b.start,Count:b.count}}).success(function(h,f,i,g){b.products=h}).error(function(h,f,i,g){b.error=true})}}]);