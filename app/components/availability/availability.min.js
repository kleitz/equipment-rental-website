"use strict";angular.module("app.availability",["app.config"]).directive("availability",function(){return{restrict:"AEC",templateUrl:"components/availability/availability.html",controller:function(c,f,b,e,a){c.datasource=a.datasource;c.availability="Loading...";c.$watch("datasource",function d(){if(a.datasource!="{{product.id}}"){c.showLoading=false;f({url:backend+"/p/"+a.datasource+"/availability",method:"GET",}).success(function(i,g,j,h){if(i.available){c.availability="Available"}else{c.availability="Unavailable"}}).error(function(i,g,j,h){c.error=true})}else{c.showLoading=true}})},link:function(c,d,b,a){}}});